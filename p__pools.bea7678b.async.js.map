{"version":3,"sources":["webpack://1kx-sourceCode/./src/pages/pools/detail/chart.less","webpack://1kx-sourceCode/./src/pages/pools/detail/index.less","webpack://1kx-sourceCode/./src/pages/pools/index.less","webpack://1kx-sourceCode/./src/pages/pools/newPool/index.less","webpack://1kx-sourceCode/./src/pages/pools/table/index.less","webpack://1kx-sourceCode/./src/pages/pools/liquidity/trigger.tsx","webpack://1kx-sourceCode/./src/pages/pools/detail/chart.tsx","webpack://1kx-sourceCode/./src/pages/pools/detail/index.tsx","webpack://1kx-sourceCode/./src/pages/pools/newPool/index.tsx","webpack://1kx-sourceCode/./src/pages/pools/table/index.tsx","webpack://1kx-sourceCode/./src/pages/pools/index.tsx"],"names":["module","exports","PlusIcon","props","setShowPanelIndex","title","_","color","overlayClassName","styles","getPopupContainer","document","getElementById","body","className","onClick","e","stopPropagation","type","MinusIcon","COLOR","xMin","xMax","Chart","utilRate","assets","base","optimal","slope1","slope2","generateData","yMin","x","y","yMax","k1","BN","minus","div","k2","data","i","push","multipliedBy","plus","toFixed","useEffect","chartDom","myChart","echarts","option","xAxis","show","Object","keys","Array","from","length","axisTick","alignWithLabel","axisLine","onZero","axisPointer","value","yAxis","series","showSymbol","lineStyle","itemStyle","markLine","symbol","label","formatter","params","console","log","toNumber","tooltip","trigger","valueFormatter","axisValue","setOption","id","Detail","visible","setVisible","setShowLiuidityPanelIndex","setShowBorrowPanelIndex","token","osdTokenData","userOsd","userReserve","userLpSupply","icon","tokenId","userTokenDebt","apr","iconN","src","lendingApr","BigNumber","totalDebt","gt","width","footer","open","getContainer","onCancel","closable","wrapClassName","osdSvg","height","NewPool","dispatch","useDispatch","walletChainId","tokenDatas","callback","currentWallet","useState","amountIn","setAmountIn","price","setPrice","currentToken","setCurrentToken","loading","setLoading","submiting","setSubmiting","resultVisible","setResultVisible","txid","setTxid","newPool","changeAmount","amount","toString","handleSubmit","chainId","osdTokenDecimal","tokenDecimal","res","error","message","hash","changeToken","item","find","v","getTokenBalanceData","liquidity","itemTokenData","closeResultModal","spinning","left","onAmountChange","onChangeToken","min","onChange","href","target","rel","align","conditions","handle","txt","parseFloat","userTokenBalance","amountTitle","close","tokenIn","tokenOuts","mapStateToProps","common","tokens","wallet","connect","agent","agentVersion","isPhone","PoolsTable","useLocation","query","account","dataSourceChainId","tokenDatasSorted","isLogin","list","setList","detailVisible","setDetailVisible","showLiq","parseInt","liquidityVisibleIndex","setLiquidityVisibleIndex","showBorrow","borrowVisibleIndex","setBorrowVisibleIndex","newPoolVisible","setNewPoolVisible","update","datas","payload","showLiqPanel","n","showBorrowingPanel","finishNewPool","columns","dataIndex","key","render","text","record","fullName","usd","usdPrice","useAbbr","prefix","style","padding","swapFee","fees","dayData","Math","pow","alt","size","marginLeft","spto","revenue","userUpdatedAt","userDebt","userTotalCol","userLpBalance","userLpRate","columns_h5","changeShowList","newlist","placeholder","PlusOutlined","fontSize","fontWeight","dataSource","rowKey","onRow","index","showPanelIndex","currentChainId","effects","loadingData","Pools"],"mappings":"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","file":"p__pools.bea7678b.async.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"chart___i4B1N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"card___eYFHE\",\"label\":\"label___3uRpP\",\"value\":\"value___prMx_\",\"amount\":\"amount___1wQ15\",\"info\":\"info___2SEw3\",\"item\":\"item___eCWYG\",\"arr\":\"arr___Pu7D4\",\"green\":\"green___2Ymnf\",\"red\":\"red___17Kjm\",\"result_icon\":\"result_icon___3NYni\",\"container\":\"container___NnR-4\",\"left\":\"left___28n4G\",\"icon_wrap\":\"icon_wrap___3lvBI\",\"icon\":\"icon___Po8B9\",\"icon_osd\":\"icon_osd___3nyu6\",\"symbol\":\"symbol___KIt9H\",\"title\":\"title___207cm\",\"valueLine\":\"valueLine___uvZ_z\",\"params\":\"params___h3Pvv\",\"row\":\"row___G6_Dz\",\"manage\":\"manage___2uKnl\",\"right\":\"right___3SYD8\",\"chart_wrap\":\"chart_wrap___3Qh22\",\"aprs\":\"aprs___3DHMz\",\"btns_wrap\":\"btns_wrap___3TCj5\",\"btn\":\"btn___v8RIA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container___1mQMQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"card___2kas4\",\"label\":\"label___4nI_e\",\"value\":\"value___1i7pO\",\"amount\":\"amount___3P-QU\",\"info\":\"info___3TRNx\",\"item\":\"item___1PZBX\",\"arr\":\"arr___3wtx6\",\"green\":\"green___3qBGA\",\"red\":\"red___1Pkmu\",\"result_icon\":\"result_icon___1fX7f\",\"title\":\"title___3cp6t\",\"dollar\":\"dollar___1GYTa\",\"input_number\":\"input_number___znxar\",\"primary\":\"primary___2XacG\",\"desc\":\"desc___4Fnfy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_wrap\":\"search_wrap___1CViK\",\"btn\":\"btn___1M_4n\",\"icon\":\"icon___8ZfGQ\",\"table\":\"table___3fxv4\",\"alignRight\":\"alignRight___2PSUN\",\"alignLeft\":\"alignLeft___3sCa2\",\"td1\":\"td1___1rpes\",\"td2\":\"td2___1lXuC\",\"td3\":\"td3___4IJuR\",\"green\":\"green___1q3Eq\",\"red\":\"red___1ydNd\",\"desc\":\"desc___sZW3v\",\"sizeIcon\":\"sizeIcon___2xprg\",\"icon_wrap\":\"icon_wrap___2XFV2\",\"icon_osd\":\"icon_osd___3DW17\",\"symbol\":\"symbol___2GO2Z\",\"no\":\"no___3mw35\",\"full_name\":\"full_name___2uFMu\",\"action\":\"action___3AI0c\",\"lprate\":\"lprate___2fTJ7\",\"token\":\"token___2pAjj\",\"info\":\"info___W8-mw\",\"title\":\"title___1ehgP\",\"container\":\"container___XMgMm\"};","import { Tooltip } from 'antd'\nimport styles from './index.less'\nimport _ from '@/i18n'\nimport Icon from '@/components/icon'\n\nexport const PlusIcon = (props) => {\n  const { setShowPanelIndex } = props\n  return (\n    <Tooltip\n      title={_('deposit')}\n      color=\"#03CDC1\"\n      overlayClassName={styles.tooltip}\n      getPopupContainer={() => document.getElementById('J_Page') || document.body}\n    >\n      <span\n        className={styles.deposit}\n        onClick={(e) => {\n          e.stopPropagation()\n          setShowPanelIndex(0)\n        }}\n      >\n        <Icon type=\"icon-plus\" />\n      </span>\n    </Tooltip>\n  )\n}\n\nexport const MinusIcon = (props) => {\n  const { setShowPanelIndex } = props\n  return (\n    <Tooltip\n      title={_('remove')}\n      color=\"#03CDC1\"\n      overlayClassName={styles.tooltip}\n      getPopupContainer={() => document.getElementById('J_Page') || document.body}\n    >\n      <span\n        className={styles.remove}\n        onClick={(e) => {\n          e.stopPropagation()\n          setShowPanelIndex(1)\n        }}\n      >\n        <Icon type=\"icon-minus\" />\n      </span>\n    </Tooltip>\n  )\n}\n","import * as echarts from 'echarts'\nimport { useEffect } from 'react'\nimport styles from './chart.less'\nimport BN from 'bignumber.js'\nimport _ from '@/i18n'\n\nconst COLOR = '#20BBBB'\nconst xMin = 0\nconst xMax = 100\n\nfunction Chart(props) {\n  const { utilRate, assets } = props\n  const { base, optimal, slope1, slope2 } = assets\n\n  const generateData = () => {\n    const yMin = base\n    const x = optimal\n    const y = slope1\n    const yMax = slope2\n    const k1 = new BN(y).minus(yMin).div(new BN(x).minus(xMin))\n    const k2 = new BN(yMax).minus(y).div(new BN(xMax).minus(x))\n    let data = []\n    for (let i = xMin; i < xMax + 1; i++) {\n      if (i < x) {\n        data.push(k1.multipliedBy(new BN(i).minus(xMin)).plus(yMin).toFixed(2))\n      } else {\n        data.push(k2.multipliedBy(new BN(i).minus(x)).plus(y).toFixed(2))\n      }\n    }\n    return data\n  }\n  useEffect(() => {\n    const chartDom = document.getElementById('J_Chart')\n    if (!chartDom) return\n    const myChart = echarts.init(chartDom)\n    const option = {\n      xAxis: {\n        type: 'category',\n        show: false,\n        data: Object.keys(Array.from({ length: xMax + 1 })),\n        axisTick: {\n          alignWithLabel: true,\n        },\n        axisLine: {\n          onZero: true,\n        },\n        axisPointer: {\n          // label: {\n          //   formatter: function (params) {\n          //     return `Borrow APR: ${params.value}%`\n          //   },\n          // },\n          value: null,\n        },\n      },\n      yAxis: {\n        type: 'value',\n        show: false,\n      },\n      series: [\n        {\n          data: generateData(),\n          type: 'line',\n          showSymbol: false,\n          lineStyle: {\n            color: COLOR,\n          },\n          itemStyle: {\n            color: COLOR,\n          },\n          markLine: {\n            symbol: ['none', 'none'],\n            label: {\n              formatter: function (params) {\n                console.log(params)\n                return `${_('utilization_rate')}:\\n ${params.value}%`\n              },\n            },\n            data: [\n              {\n                xAxis: utilRate.multipliedBy(100).toNumber(),\n              },\n            ],\n          },\n        },\n      ],\n      tooltip: {\n        trigger: 'axis',\n        valueFormatter: function (params) {\n          return 'Utilization Rate: ' + params + '%'\n        },\n        formatter: function (params) {\n          return `Utilization Rate: ${params[0].axisValue}% Borrow APR: ${params[0].value}%`\n        },\n      },\n    }\n\n    myChart.setOption(option)\n  }, [])\n\n  return <div id=\"J_Chart\" className={styles.chart} />\n}\n\nexport default Chart\n","import styles from './index.less'\nimport _ from '@/i18n'\nimport { Modal } from 'antd'\nimport Btn from '@/components/btn'\nimport Chart from './chart'\nimport DefultIcon from '@/components/icon/defult'\nimport FormatNumber from '@/components/formatNumber'\nimport BigNumber from 'bignumber.js'\nimport { osdSvg } from '@/common/config'\n\nexport default function Detail(props) {\n  const {\n    visible,\n    setVisible,\n    setShowLiuidityPanelIndex,\n    setShowBorrowPanelIndex,\n    token,\n    osdTokenData,\n  } = props\n\n  const { userOsd, userReserve, symbol, userLpSupply, icon, tokenId, userTokenDebt, apr } = token\n  const iconN = icon ? <img src={icon} className={styles.icon} /> : <DefultIcon tokenId={tokenId} />\n\n  let lendingApr = '0',\n    utilRate = new BigNumber(0)\n\n  const totalDebt = new BigNumber(userReserve).plus(userTokenDebt)\n\n  utilRate = totalDebt.gt(0)\n    ? new BigNumber(userTokenDebt).div(new BigNumber(userReserve).plus(userTokenDebt))\n    : utilRate\n  lendingApr = utilRate.multipliedBy(apr).toFixed(2)\n\n  return (\n    <Modal\n      width={890}\n      footer={null}\n      open={visible}\n      getContainer={() => document.getElementById('J_Page') || document.body}\n      onCancel={() => setVisible(false)}\n      closable={false}\n      wrapClassName={styles.modal}\n    >\n      <div className={styles.container}>\n        <div className={styles.left}>\n          <div className={styles.item}>\n            <div className={styles.label}>\n              <div className={styles.icon_wrap}>\n                {iconN}\n                <img src={osdSvg} className={styles.icon_osd} />\n              </div>\n              {_('pool_size')}\n            </div>\n            <div className={styles.value}>\n              <FormatNumber value={userReserve} />\n              {symbol} + <FormatNumber value={userOsd} /> {osdTokenData.symbol}\n            </div>\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>\n              {symbol} {_('lp_supply')}\n            </div>\n            <div className={styles.value}>\n              <FormatNumber value={userLpSupply} />\n            </div>\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>\n              {_('borrowed')} | {_('utilization_rate')}\n            </div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('reward_apr')}</div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('spot_volume')}</div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('swap_fee')}</div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('swap_fee_apr')}</div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('total_supply_apr')}</div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('insurance_pool')}</div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('protocol_treasury')}</div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('revenue_pool')}</div>\n            <div className={styles.value} />\n          </div>\n          <div className={styles.item}>\n            <div className={styles.label}>{_('next_revenue_dist')}</div>\n            <div className={styles.value} />\n          </div>\n        </div>\n        <div className={styles.right}>\n          <div className={styles.chart_wrap}>\n            <div className={styles.title}>\n              {iconN} {symbol}\n            </div>\n            <Chart assets={token.assets} utilRate={utilRate} />\n            <div className={styles.aprs}>\n              <div>\n                {_('borrow_apr')}: <span className={styles.red}>{apr}%</span>\n              </div>\n              <div>\n                {_('lending_apr')}: <span className={styles.green}>{lendingApr}%</span>\n              </div>\n            </div>\n          </div>\n\n          <div className={styles.btns_wrap}>\n            <Btn onClick={() => setShowLiuidityPanelIndex(0)} className={styles.btn} height=\"48\">\n              {_('deposit')}\n            </Btn>\n            <Btn onClick={() => setShowBorrowPanelIndex(0)} className={styles.btn} height=\"48\">\n              {_('borrow')}\n            </Btn>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  )\n}\n","import styles from './index.less'\nimport _ from '@/i18n'\nimport { Modal, InputNumber } from 'antd'\nimport { message } from '@/components/message'\nimport Btn from '@/components/btn'\nimport { useState } from 'react'\nimport type {\n  CommonStateType,\n  TokenDataType,\n  TokenStateType,\n  WalletStateType,\n} from '@/models/dataType'\nimport SimpleCard from '@/components/card'\nimport { connect, useDispatch } from 'umi'\nimport Result from '@/components/result'\nimport { Loading as Spin } from '@/components/loading'\n\nfunction NewPool(props) {\n  const dispatch = useDispatch()\n  const { visible, setVisible, walletChainId, tokenDatas, callback, currentWallet, osdTokenData } =\n    props\n\n  const [amountIn, setAmountIn] = useState('')\n  const [price, setPrice] = useState(null)\n  const [currentToken, setCurrentToken] = useState({} as TokenDataType)\n  const [loading, setLoading] = useState(false)\n  const [submiting, setSubmiting] = useState(false)\n  const [resultVisible, setResultVisible] = useState(false)\n  const [txid, setTxid] = useState('')\n\n  const { newPool } = currentWallet || {}\n\n  function changeAmount(amount: number) {\n    setAmountIn((amount || '0').toString())\n  }\n\n  async function handleSubmit() {\n    console.log('newpool handleSubmit')\n    // const newTokenId = '0x08E087753E12B1981Cf0CE20c0856a9a8F115dB1'\n    if (!currentWallet || !currentToken.tokenId) return\n\n    setSubmiting(true)\n\n    const res = await newPool({\n      chainId: walletChainId,\n      amount: amountIn,\n      price,\n      currentToken,\n      osdTokenDecimal: osdTokenData.tokenDecimal,\n    })\n    if (res.error) {\n      message(res.error)\n    } else if (res.hash) {\n      setTxid(res.hash)\n      setResultVisible(true)\n    }\n    setSubmiting(false)\n  }\n\n  async function changeToken(item) {\n    const data = tokenDatas.find((v) => v.tokenId === item.tokenId)\n    if (data) {\n      callback(item)\n    } else {\n      setLoading(true)\n      if (currentWallet.getTokenBalanceData) {\n        const itemTokenData = await currentWallet.getTokenBalanceData(\n          item.tokenId,\n          walletChainId,\n          item.liquidity,\n        )\n        setCurrentToken({\n          ...item,\n          ...itemTokenData,\n        })\n      } else {\n        setCurrentToken(item)\n      }\n      setLoading(false)\n    }\n  }\n\n  const closeResultModal = () => {\n    setResultVisible(false)\n    setVisible(false)\n    dispatch({\n      type: 'tokens/getData',\n    })\n  }\n\n  return (\n    <>\n      <Modal\n        width={420}\n        footer={null}\n        visible={visible}\n        getContainer={() => document.getElementById('J_Page') || document.body}\n        onCancel={() => setVisible(false)}\n        closable={false}\n        wrapClassName={styles.modal}\n      >\n        <Spin spinning={loading || submiting}>\n          <div className={styles.title}>{_('create_new_pool')}</div>\n\n          <SimpleCard\n            left={<div>{_('add_amount')}</div>}\n            amount={amountIn}\n            token={currentToken}\n            onAmountChange={(amount: number) => changeAmount(amount)}\n            onChangeToken={(item: TokenDataType) => changeToken(item)}\n            type=\"newpool\"\n          />\n\n          <div className={styles.card}>\n            <div className={styles.label}>{_('set_price')}(USD)</div>\n            <div className={styles.value}>\n              <span className={styles.dollar}>$</span>\n              <InputNumber\n                min={0}\n                value={price}\n                onChange={setPrice}\n                className={styles.input_number}\n              />\n            </div>\n          </div>\n\n          <div className={styles.desc}>\n            {_('new_pool_desc')}{' '}\n            <a\n              href=\"https://1kx.gitbook.io/1kx/single-side-liquidity\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {_('liquidity')}\n            </a>\n          </div>\n\n          <Btn\n            height={50}\n            align=\"center\"\n            onClick={handleSubmit}\n            conditions={[\n              {\n                handle: !currentToken.tokenId,\n                txt: _('select_asset'),\n              },\n              {\n                handle: parseFloat(amountIn || '0') <= 0 || price <= 0,\n                txt: _('input_amount'),\n              },\n              {\n                handle: price <= 0,\n                txt: _('input_price'),\n              },\n              {\n                handle:\n                  parseFloat(amountIn || '0') > parseFloat(currentToken.userTokenBalance || '0'),\n                txt: _('lack_balance'),\n              },\n            ]}\n          >\n            {_('add_liquidity')}\n          </Btn>\n        </Spin>\n      </Modal>\n      {resultVisible && (\n        <Result\n          title={_('newpool_created')}\n          amountTitle={_('deposited_amount')}\n          txid={txid}\n          chainId={walletChainId}\n          visible={resultVisible}\n          close={closeResultModal}\n          tokenIn={{\n            ...currentToken,\n            amount: amountIn,\n          }}\n          tokenOuts={[\n            {\n              icon: currentToken?.icon,\n              symbol: currentToken?.symbol || '' + ' LP',\n              tokenId: currentToken?.liquidity,\n              amount: amountIn,\n            },\n          ]}\n        />\n      )}\n    </>\n  )\n}\n\nconst mapStateToProps = ({\n  common,\n  tokens,\n  wallet,\n}: {\n  common: CommonStateType\n  tokens: TokenStateType\n  wallet: WalletStateType\n}) => {\n  return {\n    ...common,\n    ...tokens,\n    ...wallet,\n  }\n}\n\nexport default connect(mapStateToProps)(NewPool)\n","import styles from './index.less'\nimport _ from '@/i18n'\nimport { useEffect, useState } from 'react'\nimport { MinusIcon, PlusIcon } from '../liquidity/trigger'\nimport Liquidity from '../liquidity'\nimport { BorrowBtn, RepayBtn } from '../borrowing/trigger'\nimport BorrowRepay from '../borrowing'\nimport Detail from '../detail'\nimport { BtnSimple } from '@/components/btn'\nimport { PlusOutlined } from '@ant-design/icons'\nimport NewPool from '../newPool'\nimport { Table } from 'antd'\nimport { agentVersion, toFixed, usdPrice } from '@/common/utils'\nimport type { ColumnsType } from 'antd/lib/table'\nimport { useLocation, connect, useDispatch } from 'umi'\nimport type { TokenDataFullType, TokenDataType, TokenStateType } from '@/models/dataType'\nimport type { WalletStateType } from '@/models/dataType'\nimport SearchInput from '@/components/search'\nimport USD from '@/components/price/usd'\nimport BigNumber from 'bignumber.js'\nimport DefultIcon from '@/components/icon/defult'\nimport FormatNumber from '@/components/formatNumber'\nimport { Loading as Spin } from '@/components/loading'\nimport { osdSvg } from '@/common/config'\n// import { number } from 'echarts'\n\nconst agent = agentVersion()\nconst isPhone = agent === 'iPhone' || agent === 'Android'\nfunction PoolsTable(props) {\n  const { query } = useLocation()\n  const dispatch = useDispatch()\n  const {\n    tokenDatas,\n    walletChainId,\n    account,\n    osdTokenData,\n    dataSourceChainId,\n    isLogin,\n    tokenDatasSorted,\n  } = props\n  const [list, setList] = useState([])\n  const [detailVisible, setDetailVisible] = useState(false)\n  const [currentToken, setCurrentToken] = useState({} as TokenDataType)\n  const [liquidityVisibleIndex, setLiquidityVisibleIndex] = useState(\n    typeof query.showLiq === 'undefined' ? -1 : parseInt(query.showLiq),\n  )\n  const [borrowVisibleIndex, setBorrowVisibleIndex] = useState(\n    typeof query.showBorrow === 'undefined' ? -1 : parseInt(query.showBorrow),\n  )\n  const [newPoolVisible, setNewPoolVisible] = useState(false)\n  // const [varA, setVarA] = useState(0)\n  // const correctNetWork = isLogin && parseInt(walletChainId) === parseInt(dataSourceChainId, 16)\n\n  useEffect(() => {\n    setList(tokenDatasSorted || tokenDatas)\n  }, [tokenDatasSorted])\n\n  const update = async () => {\n    const datas = await dispatch({\n      type: 'tokens/getData',\n    })\n    // console.log('update', 'datas', datas)\n    dispatch({\n      type: 'tokens/fetchPoolInfo',\n      payload: {\n        datas,\n      },\n    })\n  }\n\n  useEffect(() => {\n    update()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dataSourceChainId, account])\n\n  useEffect(() => {\n    dispatch({\n      type: 'tokens/fetchPoolInfo',\n    })\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tokenDatas.length > 0])\n\n  // useEffect(() => {\n  //   const timeoutA = setTimeout(async () => {\n  //     setVarA(varA + 1)\n  //     dispatch({\n  //       type: 'tokens/getData',\n  //     })\n  //   }, 30 * 1e3)\n\n  //   return () => {\n  //     clearTimeout(timeoutA)\n  //   }\n  // }, [varA])\n\n  useEffect(() => {\n    if (typeof query.showLiq !== 'undefined') {\n      setLiquidityVisibleIndex(parseInt(query.showLiq))\n    }\n    if (typeof query.showBorrow !== 'undefined') {\n      setBorrowVisibleIndex(parseInt(query.showBorrow))\n    }\n  }, [query])\n\n  const showLiqPanel = async (n: number, item: TokenDataType) => {\n    setCurrentToken(item)\n    setLiquidityVisibleIndex(n)\n  }\n\n  const showBorrowingPanel = async (n: number, item: TokenDataType) => {\n    setCurrentToken(item)\n    setBorrowVisibleIndex(n)\n  }\n\n  const finishNewPool = (item) => {\n    setNewPoolVisible(false)\n    showLiqPanel(0, item)\n  }\n\n  const columns: ColumnsType<TokenDataFullType> = [\n    {\n      title: `${_('pools')}/${_('price')}(24H)`,\n      dataIndex: 'pools_price',\n      key: 'pools_price',\n      align: 'center',\n      render: (text, record) => {\n        const { icon, symbol, fullName, tokenId } = record\n        const usd = usdPrice([{ token: record, amount: 1 }])\n        return (\n          <div className={styles.token}>\n            <div className={styles.info}>\n              <div className={styles.icon_wrap}>\n                {icon ? (\n                  <img src={icon} className={styles.icon} />\n                ) : (\n                  <DefultIcon tokenId={tokenId} />\n                )}\n                <img src={osdSvg} className={styles.icon_osd} />\n              </div>\n              <div className={styles.title}>\n                <div className={styles.symbol}>{symbol}</div>\n                <div className={styles.full_name}>{fullName}</div>\n              </div>\n            </div>\n\n            <div className={styles.amount}>\n              <FormatNumber value={usd} useAbbr={true} prefix=\"$\" />\n              <br />\n              <span className={styles.green}> </span>\n            </div>\n          </div>\n        )\n      },\n    },\n    {\n      title: (\n        <>\n          24H {_('fee')}\n          <br />\n          {_('lp_apr')}: {_('fees')}<span style={{padding:'0 1.5px'}}>|</span>{_('lend')}\n        </>\n      ),\n      dataIndex: 'fee',\n      key: 'fee',\n      align: 'right',\n      render: (text, record) => {\n        const { dayData, usd } = record\n        if (!dayData) return null\n        let swapFee\n        let fees\n        if (dayData.swapFee == 0) {\n          swapFee = 0\n          fees = 0\n        } else if (usd == null || usd == '0') {\n          swapFee = 0\n          fees = 0\n        } else {\n          swapFee = BigNumber(dayData.swapFee).div(BigNumber(Math.pow(10, 18)))\n          fees = swapFee\n            .div(BigNumber(usd))\n            .multipliedBy(BigNumber(100))\n            .multipliedBy(BigNumber(365))\n            .toFixed(2)\n        }\n\n        return (\n          <>\n            <div>\n              <FormatNumber value={swapFee} prefix=\"$\" useAbbr={true} />\n            </div>\n            <div className={styles.desc}>{fees.toString()}%<span style={{padding:'0 1.5px'}}>|</span>--</div>\n          </>\n        )\n      },\n    },\n    {\n      title: _('pool_size'),\n      dataIndex: 'size',\n      key: 'poolInfo',\n      align: 'right',\n      render: (text, record) => {\n        const { userOsd, userReserve, usd } = record\n        return (\n          <>\n            <div>\n              <FormatNumber value={usd} prefix=\"$\" useAbbr={true} />\n            </div>\n            <div className={styles.desc}>\n              {record.icon ? <img src={record.icon} alt={record.symbol} className={styles.sizeIcon} /> : <DefultIcon tokenId={record.tokenId} size={14.39} />} <span style={{ marginLeft: 1.69 }}><FormatNumber value={toFixed(userReserve, 2)} useAbbr={true} /> </span>\n              <img src={osdSvg} alt={osdTokenData.symbol} className={styles.sizeIcon} style={{ marginLeft: 4 }} /><span style={{ marginLeft: 1.69 }}><FormatNumber value={toFixed(userOsd, 2)} useAbbr={true} /> </span>\n            </div>\n          </>\n        )\n      },\n    },\n    {\n      title: (\n        <>\n          {_('borrowed')}\n          <br />\n          {_('borrowed')} {_('apr')}\n          <br />\n          {_('yield_apr')}\n        </>\n      ),\n      dataIndex: 'borrowed',\n      key: 'borrowed',\n      align: 'right',\n      width: 125,\n      render: (text, record) => {\n        const { userTokenDebt, apr } = record\n\n        return (\n          <>\n            <div>\n              <FormatNumber value={userTokenDebt} useAbbr={true} />\n            </div>\n            <div className={styles.desc}>{apr}%</div>\n          </>\n        )\n      },\n    },\n    {\n      title: _('spot_vol'),\n      dataIndex: 'spot',\n      key: 'spot',\n      align: 'right',\n      render: (text, record) => {\n        const { dayData, symbol, tokenDecimal } = record\n        if (!dayData) return null\n        const spto = BigNumber(dayData.revenue)\n          .div(BigNumber(Math.pow(10, tokenDecimal)))\n          // .toFixed(2)\n          .toString()\n        const usd = usdPrice([{ amount: spto, token: record }])\n\n        return (\n          <>\n            <div className={styles.desc}>\n              {toFixed(spto, 2)} {symbol}\n            </div>\n            <div className={styles.desc}>\n              <FormatNumber value={usd} prefix=\"$\" />\n            </div>\n          </>\n        )\n      },\n    },\n    // {\n    //   title: _('perp_vol'),\n    //   dataIndex: 'perp',\n    //   key: 'perp',\n    //   align: 'right',\n    //   render: (text, record) => {\n\n    //     const { dayData, symbol, tokenDecimal } = record;\n    //     console.log(dayData, symbol, tokenDecimal, 'dayData, symbol, tokenDecimal')\n    //     if (!dayData) return null\n    //     const perp = BigNumber(dayData.perpVol)\n    //       .div(BigNumber(Math.pow(10, tokenDecimal)))\n    //       .toString()\n    //     const usd = usdPrice([{ amount: perp, token: record }])\n\n    //     return (\n    //       <>\n    //         <div className={styles.desc}>\n    //           {perp} {symbol}\n    //         </div>\n    //         <div className={styles.desc}>${usd}</div>\n    //       </>\n    //     )\n    //   },\n    // },\n    {\n      title: _('borrow'),\n      dataIndex: 'borrow',\n      key: 'borrow',\n      align: 'center',\n      render: (text, record) => {\n        return (\n          <div className={styles.action}>\n            {parseFloat(record.userUpdatedAt) > 0 && (\n              <BorrowBtn setShowPanelIndex={(n: number) => showBorrowingPanel(n, record)} />\n            )}\n            {(parseFloat(record.userDebt) > 0 || parseFloat(record.userTotalCol) > 0) && (\n              <RepayBtn setShowPanelIndex={(n: number) => showBorrowingPanel(n, record)} />\n            )}\n          </div>\n        )\n      },\n    },\n    {\n      title: (\n        <>\n          {_('liquidity')}\n          <br />\n          {_('your_lp_share')}\n        </>\n      ),\n      dataIndex: 'tokenId',\n      key: 'liquidity',\n      align: 'right',\n      width: 125,\n      render: (text, record) => {\n        const { userLpBalance, userLpSupply } = record\n        const userLpRate =\n          parseFloat(userLpSupply) > 0\n            ? new BigNumber(userLpBalance).div(userLpSupply).multipliedBy(100).toString()\n            : ''\n        return (\n          <>\n            <div className={styles.action}>\n              <PlusIcon setShowPanelIndex={(n: number) => showLiqPanel(n, record)} />\n              {parseFloat(userLpBalance) > 0 && (\n                <>\n                  <MinusIcon setShowPanelIndex={(n: number) => showLiqPanel(n, record)} />\n                </>\n              )}\n            </div>\n            {parseFloat(userLpBalance) > 0 && (\n              <div className={styles.lprate}>{toFixed(userLpRate, 5)}%</div>\n            )}\n          </>\n        )\n      },\n    },\n  ]\n\n  const columns_h5: ColumnsType<TokenDataFullType> = [\n    {\n      title: _('pools'),\n      dataIndex: 'pools',\n      render: (text, record) => {\n        const { icon, symbol, tokenId } = record\n        return (\n          <div className={styles.token}>\n            <div className={styles.info}>\n              <div className={styles.icon_wrap}>\n                {icon ? (\n                  <img src={icon} className={styles.icon} />\n                ) : (\n                  <DefultIcon tokenId={tokenId} />\n                )}\n                <img src={osdSvg} className={styles.icon_osd} />\n              </div>\n              <div className={styles.title}>\n                <div className={styles.symbol}>{symbol}</div>\n              </div>\n            </div>\n          </div>\n        )\n      },\n    },\n    {\n      title: `${_('apr')}/${_('tvl')}`,\n      dataIndex: 'apr',\n      key: 'apr',\n      align: 'right',\n      render: (text, record) => {\n        const { usd } = record\n        return (\n          <>\n            <div />\n            <div>\n              <FormatNumber value={usd} prefix=\"$\" useAbbr={true} />\n            </div>\n          </>\n        )\n      },\n    },\n    {\n      title: `${_('price')}/${_('day_diff')}`,\n      dataIndex: 'price',\n      key: 'price',\n      align: 'right',\n      render: (text, record) => {\n        return (\n          <>\n            <div>\n              <USD data={{ amount: 1, token: record }} />\n            </div>\n            <div className={styles.desc} />\n          </>\n        )\n      },\n    },\n  ]\n  const loading = (tokenDatas && tokenDatas.length < 1) || (tokenDatasSorted || []).length < 1\n  return (\n    <>\n      <div className={styles.container}>\n        <Spin spinning={loading}>\n          <div className={styles.search_wrap}>\n            <SearchInput\n              changeShowList={(newlist) => setList(newlist)}\n              className=\"search_input\"\n              placeholder={_('search_tips')}\n            />\n            <BtnSimple className={styles.btn} onClick={() => setNewPoolVisible(true)}>\n              <span className={styles.icon}>\n                <PlusOutlined />\n              </span>\n              {_('new_pool')}\n            </BtnSimple>\n            <BtnSimple\n              className={styles.btn}\n              style={{ fontSize: 14, fontWeight: '400' }}\n              onClick={() => setLiquidityVisibleIndex(0)}\n            >\n              {_('deposit')}\n            </BtnSimple>\n          </div>\n\n          <Table\n            columns={isPhone ? columns_h5 : columns}\n            dataSource={list}\n            className={styles.table}\n            rowKey=\"tokenId\"\n            onRow={(record) => {\n              return {\n                onClick: () => {\n                  setCurrentToken(record)\n                  setDetailVisible(true)\n                }, // 点击行\n              }\n            }}\n          // loading={loading}\n          // loading={{\n          //   spinning:\n          //     (poolTokenDatas && poolTokenDatas.length < 1 && tokenList.length > 0) || loadingData,\n          //   indicator: <Loading3QuartersOutlined spin style={{ fontSize: 30 }} />,\n          // }}\n          />\n        </Spin>\n      </div>\n      {detailVisible && (\n        <Detail\n          token={currentToken}\n          visible={detailVisible}\n          setVisible={setDetailVisible}\n          setShowLiuidityPanelIndex={(index: number) => {\n            setDetailVisible(false)\n            setLiquidityVisibleIndex(index)\n          }}\n          setShowBorrowPanelIndex={(index: number) => {\n            setDetailVisible(false)\n            setBorrowVisibleIndex(index)\n          }}\n          osdTokenData={osdTokenData}\n        />\n      )}\n      {liquidityVisibleIndex > -1 && (\n        <Liquidity\n          showPanelIndex={liquidityVisibleIndex}\n          setShowPanelIndex={setLiquidityVisibleIndex}\n          currentToken={currentToken}\n        />\n      )}\n      {borrowVisibleIndex > -1 && (\n        <BorrowRepay\n          showPanelIndex={borrowVisibleIndex}\n          setShowPanelIndex={setBorrowVisibleIndex}\n          currentToken={currentToken}\n        />\n      )}\n      {newPoolVisible && (\n        <NewPool\n          visible={newPoolVisible}\n          setVisible={setNewPoolVisible}\n          currentChainId={walletChainId}\n          account={account}\n          callback={finishNewPool}\n        />\n      )}\n    </>\n  )\n}\n\nconst mapStateToProps = ({\n  tokens,\n  wallet,\n  loading,\n}: {\n  tokens: TokenStateType\n  wallet: WalletStateType\n  loading: any\n}) => {\n  const effects = loading.effects\n  return {\n    ...tokens,\n    ...wallet,\n    loadingData: effects['tokens/getData'] || false,\n  }\n}\n\nexport default connect(mapStateToProps)(PoolsTable)\n","// import _ from '@/i18n'\nimport Layout from '@/layout'\n// import { connect } from 'umi'\nimport Table from './table'\nimport styles from './index.less'\n\nexport default function Pools() {\n  return (\n    <Layout>\n      <div className={styles.container}>\n        <Table />\n      </div>\n    </Layout>\n  )\n}\n"],"sourceRoot":""}